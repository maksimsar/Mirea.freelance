<template>
  <main class="container mt-5">
    <h2 class="text-center mb-4">Доступные заявки</h2>
    <div class="row">
      <!-- Перебираем заказы и отображаем каждый через компонент OrderCard -->
      <OrderCard
        v-for="order in orders"
        :key="order.id"
        :order="order"
        @respond="handleRespond"
      />
    </div>
    <!-- Модальное окно для отклика на заказ -->
    <ResponseModal
      v-if="showModal"
      :order="selectedOrder"
      @close="showModal = false"
      @submit="handleFormSubmit"
    />
  </main>
</template>

<script>
// Импорт компонентов
import OrderCard from '../components/OrderCard.vue';
import ResponseModal from '../components/ResponseModal.vue';

export default {
  name: 'OrdersPage',
  components: {
    OrderCard,
    ResponseModal
  },
  data() {
    return {
      orders: [
        {
          id: 1,
          title: 'Разработка сайта для ресторана',
          description: 'Необходимо создать сайт для ресторана с онлайн-меню и системой бронирования столиков. Требуется опыт в разработке с использованием PHP, JavaScript, MySQL.'
        },
        {
          id: 2,
          title: 'Мобильное приложение для отслеживания фитнес-активности',
          description: 'Необходимо разработать мобильное приложение для Android и iOS, которое будет отслеживать физическую активность пользователей, их тренировки и питания.'
        },
        {
          id: 3,
          title: 'Разработка корпоративного портала',
          description: 'Компания ищет разработчика для создания внутреннего корпоративного портала с возможностью обмена файлами, чатов и других функций для сотрудников.'
        },
        {
          id: 4,
          title: 'Проект по созданию интернет-магазина',
          description: 'Требуется специалист для разработки интернет-магазина с интеграцией оплаты через банковские карты, а также системы скидок и купонов.'
        },
        {
          id: 5,
          title: 'Создание чат-бота для поддержки клиентов',
          description: 'Нужно разработать чат-бота для автоматического ответа на часто задаваемые вопросы и обработки заявок от клиентов.'
        },
        {
          id: 6,
          title: 'Аудит и улучшение безопасности веб-сайта',
          description: 'Необходимо провести аудит безопасности существующего веб-сайта и предложить решения для улучшения защиты от взломов и утечек данных.'
        },
        {
          id: 7,
          title: 'Разработка системы для автоматизации складского учета',
          description: 'Компания ищет разработчика для создания системы для автоматизации учёта товаров на складе, с возможностью отслеживания остатков и заказов.'
        },
        {
          id: 8,
          title: 'Программирование API для интеграции с внешними сервисами',
          description: 'Нужен опытный разработчик для создания API, который будет интегрировать наш сервис с внешними платформами (например, CRM, платежные системы).'
        },
        {
          id: 9,
          title: 'Разработка виртуальной реальности для тренировки персонала',
          description: 'Проект нацелен на создание VR-решения для тренировки сотрудников в безопасной среде с имитацией реальных рабочих ситуаций.'
        },
        {
          id: 10,
          title: 'UI/UX дизайн для веб-приложения',
          description: 'Необходимо разработать дизайн для нового веб-приложения, учитывая современные тренды UI/UX и обеспечив лёгкость и удобство интерфейса для пользователя.'
        },
      ],
      showModal: false,
      selectedOrder: null,
    };
  },
  methods: {
    // Открытие модального окна при отклике на заказ
    handleRespond(order) {
      this.selectedOrder = order;
      this.showModal = true;
    },
    // Обработка отправки формы отклика
    handleFormSubmit(responseData) {
      console.log('Отклик на заказ:', responseData);
      this.showModal = false; // Закрытие модального окна после отправки
    }
  }
};
</script>

<style scoped>
/* Стили для страницы заказов */
.container {
  max-width: 1200px;
}

h2 {
  font-size: 2rem;
}

.row {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

/* Модальные окна */
.modal-content {
  max-width: 600px;
  margin: 0 auto;
}
</style>
